// noinspection JSFileReferences

/**
 * Note a component: just a file loaded by the require.html file
 * to show how we can instantiate require
 *
 * dojo environment is not working with the dojo loader, unfortunately.
 * jquery is amd aware
 */
require.config({
    paths: {
        "debounce": "http://combo.nico.lan/lib/exe/fetch.php?media=snippet:js:test.js&drive=combo",
        "domReady": "https://cdnjs.cloudflare.com/ajax/libs/require-domReady/2.0.1/domReady.min",
        // "dojo": "https://ajax.googleapis.com/ajax/libs/dojo/1.13.0/dojo/dojo",
        // "dojox": "https://ajax.googleapis.com/ajax/libs/dojo/1.13.0/dojox",
        // "dijit": "https://ajax.googleapis.com/ajax/libs/dojo/1.13.0/dijit"
    },
    onNodeCreated: function (node, config, module, path) {
        // Here's  a list of different integrity for different scripts
        // Append to this list for all scripts that you want SRI for
        let sri = {
            "domReady": 'sha512-oeoXzE331hXr/6XbU7Vyi4cY7qg9DZuOSvSpl1gL66WyW3ghv+lV4all2A9Ht8TZ1mWIpqULz0R/hT7TdhhtlQ=='
        };
        if (sri[module]) {
            node.setAttribute('integrity', sri[module]);
            node.setAttribute('crossorigin', 'anonymous');
        }
    },
    // bundles: {
    //     "dojo": ['dojo/_base/loader', 'dojo/require', 'dojo/domReady', 'dojo/i18n', 'dojo/has', 'dojo/node', 'dojo/text', 'dojo/has', 'dojo/sniff', 'dojo/uacss', 'dojo/_base/sniff', 'dojo/promise', 'dojo/Deferred', 'dojo/when', 'dojo/_base/Deferred', 'dojo/DeferredList', 'dojo/on', 'dojo/_base/connect', 'dojo/_base/event', 'dojo/Evented', 'dojo/behavior', 'dojo/request', 'dojo/_base/xhr', 'dojo/io/iframe', 'dojo/io/script', 'dojo/store', 'dojo/data', 'dojo/dom', 'dojo/dom-attr', 'dojo/dom-class', 'dojo/dom-construct', 'dojo/dom-form', 'dojo/dom-geometry', 'dojo/dom-prop', 'dojo/dom-style', 'dojo/html', 'dojo/_base/html', 'dojo/query', 'dojo/NodeList', 'dojo/NodeList-data', 'dojo/NodeList-dom', 'dojo/NodeList-fx', 'dojo/NodeList-html', 'dojo/NodeList-traverse', 'dojo/selector', 'dojo/_base/query', 'dojo/_base/NodeList', 'dojo/_base/fx', 'dojo/fx', 'dojo/window', 'dojo/_base/window', 'dojo/ready', 'dojo/domReady', 'dojo/_base/unload', 'dojo/back', 'dojo/hash', 'dojo/mouse', 'dojo/touch', 'dojo/keys', 'dojo/robot', 'dojo/robotx', 'dojo/json5', 'dojo/_base/json', 'dojo/_base/Color', 'dojo/colors', 'dojo/_base/url', 'dojo/io-query', 'dojo/i18n', 'dojo/cldr', 'dojo/number', 'dojo/currency'],
    //     "dojox": ['dojox/analytics', 'dojox/app', 'dojox/collections', 'dojox/dnd', 'dojox/dtl', 'dojox/gesture', 'dojox/mdnd', 'dojox/mvc', 'dojox/storage', 'dojox/wire', 'dojox/wire/ml', 'dojox/mobile', 'dojox/mobile/app', 'dojox/lang', 'dojox/lang/aspect', 'dojox/lang/async', 'dojox/lang/functional', 'dojox/lang/observable', 'dojox/lang/oo', 'dojox/rails', 'dojox/av', 'dojox/drawing', 'dojox/flash', 'dojox/fx/easing', 'dojox/fx/ext-dojo/complex', 'dojox/fx/ext-dojo/NodeList-style', 'dojox/fx/ext-dojo/NodeList', 'dojox/fx/ext-dojo/reverse', 'dojox/fx/flip', 'dojox/fx/scroll', 'dojox/fx/Shadow', 'dojox/fx/split', 'dojox/fx/style', 'dojox/fx/text', 'dojox/fx/Timeline', 'dojox/gfx', 'dojox/gfx3d', 'dojox/image', 'dojox/image/Badge', 'dojox/image/FlickrBadge', 'dojox/image/Gallery', 'dojox/image/Lightbox', 'dojox/image/LightboxNano', 'dojox/image/Magnifier', 'dojox/image/MaginfierLite', 'dojox/image/SlideShow', 'dojox/image/TumbnailPicker', 'dojox/sketch', 'dojox/charting', 'dojox/dgauges', 'dojox/gantt', 'dojox/gauges', 'dojox/geo/charting', 'dojox/geo/openlayers', 'dojox/treemap', 'dojox/data', 'dojox/data/AndOrReadStore', 'dojox/data/AndOrWriteStore', 'dojox/data/AppStore', 'dojox/data/AtomReadStore', 'dojox/data/CdfStore', 'dojox/data/ClientFilter', 'dojox/data/CouchDBRestStore', 'dojox/data/CssClassStore', 'dojox/data/CssRuleStore', 'dojox/data/CsvStore', 'dojox/data/FileStore', 'dojox/data/FlickrRestStore', 'dojox/data/FlickrStore', 'dojox/data/GoogleFeedStore', 'dojox/data/GoogleSearchStore', 'dojox/data/HtmlStore', 'dojox/data/HtmlTableStore', 'dojox/data/ItemExplorer', 'dojox/data/JsonQueryRestStore', 'dojox/data/JsonRestStore', 'dojox/data/KeyValueStore', 'dojox/data/OpenSearchStore', 'dojox/data/OpmlStore', 'dojox/data/PersevereStore', 'dojox/data/PicasaStore', 'dojox/data/QueryReadStore', 'dojox/data/RailsStore', 'dojox/data/S3Store', 'dojox/data/ServiceStore', 'dojox/data/StoreExplorer', 'dojox/data/WikipediaStore', 'dojox/data/XmlStore', 'dojox/data/util/JsonQuery', 'dojox/atom', 'dojox/io/httpParse', 'dojox/io/OAuth', 'dojox/io/scriptFrame', 'dojox/io/windowName', 'dojox/io/xhrMultiPart', 'dojox/io/xhrPlugins', 'dojox/io/proxy/xip', 'dojox/rpc', 'dojox/socket/Reconnect', 'dojox/xmpp', 'dojox/calc', 'dojox/calendar', 'dojox/editor/plugins', 'dojox/form/BusyButton', 'dojox/form/CheckedMultiSelect', 'dojox/form/DateTextBox', 'dojox/widget/DayTextBox', 'dojox/form/DropDownSelect', 'dojox/form/DropDownStack', 'dojox/form/FileInput', 'dojox/form/FileInputAuto', 'dojox/form/FileInputBlind', 'dojox/form/FilePickerTextBox', 'dojox/form/FileUploader', 'dojox/form/ListInput', 'dojox/form/Manager', 'dojox/widget/MonthTextBox', 'dojox/form/MultiComboBox', 'dojox/form/PasswordValidator', 'dojox/form/RadioStack', 'dojox/form/RangeSlider', 'dojox/form/Rating', 'dojox/form/TimeSpinner', 'dojox/form/TriStateCheckBox', 'dojox/form/Uploader', 'dojox/widget/YearTextBox', 'dojox/grid', 'dojox/layout/BorderContainer', 'dojox/layout/ContentPane', 'dojox/layout/Dock', 'dojox/layout/dnd', 'dojox/layout/DragPane', 'dojox/layout/ExpandoPane', 'dojox/layout/ext-dijit/layout', 'dojox/layout/FloatingPane', 'dojox/layout/GridContainer', 'dojox/layout/GridContainerLite', 'dojox/layout/RadioGroup', 'dojox/layout/ResizeHandle', 'dojox/layout/RotatorContainer', 'dojox/layout/ScrollPane', 'dojox/layout/TableContainer', 'dojox/layout/ToggleSplitter', 'dojox/widget', 'dojox/widget/AnalogGauge', 'dojox/widget/AutoRotator', 'dojox/widget/BarGauge', 'dojox/widget/Calendar', 'dojox/widget/Calendar2Pane', 'dojox/widget/Calendar3Pane', 'dojox/widget/CalendarFisheye', 'dojox/widget/CalendarFx', 'dojox/widget/ColorPicker', 'dojox/widget/DailyCalendar', 'dojox/widget/DataPresentation', 'dojox/widget/Dialog', 'dojox/widget/DialogSimple', 'dojox/widget/DocTester', 'dojox/widget/DynamicTooltip', 'dojox/widget/FeedPortlet', 'dojox/widget/FilePicker', 'dojox/widget/FisheyeList', 'dojox/widget/FisheyeListItem', 'dojox/widget/FisheyeLite', 'dojox/widget/Iterator', 'dojox/widget/Loader', 'dojox/widget/MonthAndYearlyCalendar', 'dojox/widget/MonthlyCalendar', 'dojox/widget/MultiSelectCalendar', 'dojox/widget/Pager', 'dojox/widget/PlaceholderMenuItem', 'dojox/widget/Portlet', 'dojox/widget/PortletDialogSettings', 'dojox/widget/PortletSettings', 'dojox/widget/Roller', 'dojox/widget/RollingList', 'dojox/widget/Rotator', 'dojox/widget/Selection', 'dojox/widget/SortList', 'dojox/widget/Standby', 'dojox/widget/TitleGroup', 'dojox/widget/Toaster', 'dojox/widget/UpgradeBar', 'dojox/widget/Wizard', 'dojox/widget/YearlyCalendar', 'dojox/color', 'dojox/css3', 'dojox/date/buddhist', 'dojox/date/hebrew', 'dojox/date/islamic', 'dojox/date/umalqura', 'dojox/date/php', 'dojox/date/posix', 'dojox/date/relative', 'dojox/date/timezone', 'dojox/embed', 'dojox/encoding', 'dojox/help', 'dojox/highlight', 'dojox/html', 'dojox/jq', 'dojox/json/query', 'dojox/json/ref', 'dojox/json/schema', 'dojox/jsonPath', 'dojox/math', 'dojox/NodeList/delegate', 'dojox/robot/recorder', 'dojox/secure', 'dojox/sql', 'dojox/string', 'dojox/testing/DocTest', 'dojox/timing', 'dojox/uuid', 'dojox/validate', 'dojox/xml'],
    //     "digit": ['dijit/a11y', 'dijit/focus', 'dijit/place', 'dijit/popup', 'dijit/registry', 'dijit/typematic', 'dijit/Destroyable', 'dijit/_WidgetBase', 'dijit/_AttachMixin', 'dijit/_TemplatedMixin', 'dijit/_WidgetsInTemplateMixin', 'dijit/_CssStateMixin', 'dijit/_FocusMixin', 'dijit/_HasDropDown', 'dijit/_OnDijitClickMixin', 'dijit/_BidiSupport', 'dijit/_Contained', 'dijit/_Container', 'dijit/_DialogMixin', 'dijit/_KeyNavMixin', 'dijit/_KeyNavContainer', 'dijit/_MenuBase', 'dijit/_PaletteMixin', 'dijit/_TimePicker', 'dijit/DropDownMenu', 'dijit/Menu', 'dijit/MenuBar', 'dijit/Tree', 'dijit/tree/dndSource', 'dijit/tree_dndContainer', 'dijit/tree/_dndSelector', 'dijit/tree/dndSource', 'dijit/BackgroundIframe', 'dijit/Calendar', 'dijit/CalendarLite', 'dijit/ColorPalette', 'dijit/ConfirmDialog', 'dijit/ConfirmTooltipDialog', 'dijit/Declaration', 'dijit/Dialog', 'dijit/DialogUnderlay', 'dijit/Editor', 'dijit/Fieldset', 'dijit/InlineEditBox', 'dijit/ProgressBar', 'dijit/TitlePane', 'dijit/Toolbar', 'dijit/ToolbarSeparator', 'dijit/Tooltip', 'dijit/TooltipDialog', 'dijit/form', 'dijit/form/CurrencyTextBox', 'dijit/form/DateTextBox', 'dijit/form/MappedTextBox', 'dijit/form/NumberSpinner', 'dijit/form/NumberTextBox', 'dijit/form/RangeBoundTextBox', 'dijit/form/SimpleTextarea', 'dijit/form/Textarea', 'dijit/form/TextBox', 'dijit/form/TimeTextBox', 'dijit/form/ValidationTextBox', 'dijit/form/Select', 'dijit/form/ComboBox', 'dijit/form/FilteringSelect', 'dijit/form/MultiSelect', 'dijit/form/_FormSelectWidget', 'dijit/form/Button', 'dijit/form/ComboButton', 'dijit/form/DropDownButton', 'dijit/form/ToggleButton', 'dijit/form/HorizontalRule', 'dijit/form/HorizontalRuleLabels', 'dijit/form/HorizontalSlider', 'dijit/form/VerticalRule', 'dijit/form/VerticalRuleLabels', 'dijit/form/VerticalSlider', 'dijit/form/CheckBox', 'dijit/form/Form', 'dijit/form/RadioButton', 'dijit/form/_FormWidget', 'dijit/form/_FormValueWidget', 'dijit/form/_FormValueMixin', 'dijit/form/_FormWidgetMixin', 'dijit/form/_ListBase', 'dijit/form/_ListMouseMixin', 'dijit/layout', 'dijit/layout/_LayoutWidget', 'dijit/layout/AccordionContainer', 'dijit/layout/BorderContainer', 'dijit/layout/ContentPane', 'dijit/layout/LinkPane', 'dijit/layout/StackContainer', 'dijit/layout/TabContainer', 'dijit/layout/utils', 'dijit/layout/StackController', 'dijit/layout/TabController']
    // },
    waitSeconds: 5
});

require(['domReady'], () => {
        document.querySelector("#message").innerHTML = "The dom is ready !";
    }
);

